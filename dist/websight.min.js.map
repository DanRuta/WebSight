{"version":3,"sources":["websight.es5.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","degToRad","x","Math","PI","window","addEventListener","renderer","THREE","WebGLRenderer","antialias","alpha","setSize","innerWidth","innerHeight","document","body","appendChild","domElement","style","backgroundColor","effect","VREffect","separation","vrDisplay","navigator","getVRDisplays","then","displays","enterVRButton","controls","getElementById","classList","contains","closeVR","remove","userAgent","includes","requestPresent","source","StereoEffect","add","scene","Scene","camera","PerspectiveCamera","texture","boxMaterial","box","makeBoxObject","video","createElement","autoplay","width","height","getVideoFeed","boxWidth","boxHeight","boxGeometry","BoxGeometry","Texture","minFilter","NearestFilter","ShaderMaterial","uniforms","type","value","radius","intensity","vertexShader","vertexShaderSource","text","fragmentShader","Filters","compileShader","Mesh","position","z","atan","getVideoFeedAttempts","mediaDevices","getUserMedia","facingMode","stream","src","URL","createObjectURL","catch","err","console","log","alert","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","e","render","requestAnimationFrame","currentTime","needsUpdate","location","href","fullscreenEnabled","requestFullScreen","webkitFullscreenEnabled","webkitRequestFullScreen","mozFullScreenEnabled","mozRequestFullScreen","msFullScreenEnabled","msRequestFullScreen","aspect","updateProjectionMatrix","pause","setShader","querySelector","dataset","filter","setIntensity","parseFloat","setRadius","shader","val","toggleInverted","isInverted","this","name","invertedBody","get","filters","availableFilters","initialFilter","localStorage","getItem","controlsRoot","filtersRoot","getElementsByClassName","slidersRoot","filterButtons","map","button","toLowerCase","replace","innerText","disabled","radiusSlider","id","parseInt","min","max","step","radiusLabel","for","radiusValue","intensitySlider","intensityLabel","intensityValue","_ref","forEach","setItem","updateRadius","_ref2","updateIntensity","_ref3","toggle"],"mappings":"AAAA,aAIA,SAASA,gBAAgBC,SAAUC,aAAe,KAAMD,oBAAoBC,aAAgB,MAAM,IAAIC,UAAU,qCAFhH,IAAIC,aAAe,WAAc,SAASC,iBAAiBC,OAAQC,OAAS,IAAK,IAAIC,EAAI,EAAGA,EAAID,MAAME,OAAQD,IAAK,CAAE,IAAIE,WAAaH,MAAMC,GAAIE,WAAWC,WAAaD,WAAWC,aAAc,EAAOD,WAAWE,cAAe,EAAU,UAAWF,aAAYA,WAAWG,UAAW,GAAMC,OAAOC,eAAeT,OAAQI,WAAWM,IAAKN,aAAiB,OAAO,SAAUR,YAAae,WAAYC,aAAiJ,OAA9HD,YAAYZ,iBAAiBH,YAAYiB,UAAWF,YAAiBC,aAAab,iBAAiBH,YAAagB,aAAqBhB,aAA7gB,GAIfkB,SAAW,SAAkBC,GAC7B,OAAOA,EAAIC,KAAKC,GAAK,KAGzBC,OAAOC,iBAAiB,OAAQ,WAE5B,IAAIC,SAAW,IAAIC,MAAMC,eAAgBC,WAAW,EAAMC,OAAO,IACjEJ,SAASK,QAAQP,OAAOQ,WAAYR,OAAOS,aAC3CC,SAASC,KAAKC,YAAYV,SAASW,YACnCX,SAASW,WAAWC,MAAMC,gBAAkB,QAE5C,IAAIC,OAAS,IAAIb,MAAMc,SAASf,UAChCc,OAAOE,WAAa,EACpBF,OAAOT,QAAQP,OAAOQ,WAAYR,OAAOS,aAEzC,IAAIU,eAAY,EAEZC,UAAUC,eACVD,UAAUC,gBAAgBC,KAAK,SAAUC,UACrC,OAAOA,SAAStC,SAAWkC,UAAYI,SAAS,MAKxDC,cAAcvB,iBAAiB,QAAS,WACpC,IAAIwB,SAAWf,SAASgB,eAAe,YAEnCF,cAAcG,UAAUC,SAAS,UACjCC,UACAL,cAAcG,UAAUG,OAAO,SAC/BL,SAASE,UAAUG,OAAO,YAEtBV,UAAUW,UAAUC,SAAS,aAC7Bb,UAAUc,iBAAkBC,OAAQhC,SAASW,gBAE7CG,OAAS,IAAIb,MAAMgC,aAAajC,WACzBgB,WAAa,EACpBF,OAAOT,QAAQP,OAAOQ,WAAYR,OAAOS,cAI7Ce,cAAcG,UAAUS,IAAI,SAG5BX,SAASE,UAAUS,IAAI,aAI/B,IAAIP,QAAU,YACVb,OAAS,IAAIb,MAAMc,SAASf,WACrBgB,WAAa,EACpBF,OAAOT,QAAQP,OAAOQ,WAAYR,OAAOS,cAKzC4B,MAAQ,IAAIlC,MAAMmC,MAClBC,OAAS,IAAIpC,MAAMqC,kBAFb,GAEoCxC,OAAOQ,WAAaR,OAAOS,YAAa,EAAG,KACzF4B,MAAMD,IAAIG,QAGV,IAAIE,aAAU,EACVC,iBAAc,EACdC,SAAM,EAENC,cAAgB,WAChB5C,OAAO6C,MAAQnC,SAASoC,cAAc,SACtCD,MAAME,UAAW,EACjBF,MAAMG,MAAQhD,OAAOQ,WAAa,EAClCqC,MAAMI,OAASjD,OAAOS,YAAc,EACpCyC,eAEA,IAAIC,SAAWN,MAAMG,MACjBI,UAAYP,MAAMI,OAElBI,YAAc,IAAIlD,MAAMmD,YAAYH,SAAUC,UAAW,IAC7DX,QAAU,IAAItC,MAAMoD,QAAQV,QACpBW,UAAYrD,MAAMsD,cAE1Bf,YAAc,IAAIvC,MAAMuD,gBACpBC,UACIlB,SACImB,KAAM,IACNC,MAAOpB,SAEXO,OACIY,KAAM,IACNC,MAAOhB,MAAMG,OAEjBC,QACIW,KAAM,IACNC,MAAOhB,MAAMI,QAEjBa,QACIF,KAAM,IACNC,MAAO,IAEXE,WACIH,KAAM,IACNC,MAAO,IAGfG,aAAcC,mBAAmBC,KACjCC,eAAgBC,QAAQC,cAAc,cAG1C1B,IAAM,IAAIxC,MAAMmE,KAAKjB,YAAaX,aAClCL,MAAMD,IAAIO,KAEVJ,OAAOgC,SAASC,EAAI,GAAMrB,SAAWrD,KAAK2E,KAAK7E,SAAS,KAAiB,KAGzE8E,qBAAuB,EAEvBxB,aAAe,SAASA,eACxB,IAGI,GAF0B9B,UAAUuD,cAAgBvD,UAAUuD,aAAaC,aAGvExD,UAAUuD,aAAaC,cAAe/B,OAASgC,WAAY,iBAAmBvD,KAAK,SAAUwD,QACzFjC,MAAMkC,IAAM/E,OAAOgF,IAAIC,gBAAgBH,UACxCI,MAAM,SAAUC,KACfC,QAAQC,IAAIF,OACZT,qBAG2B,EACvBxB,eAEAoC,MAAM,kGAGX,CACH,IAAIV,aAAexD,UAAUwD,cAAgBxD,UAAUmE,oBAAsBnE,UAAUoE,iBAAmBpE,UAAUqE,eAEhHb,aACAA,cAAe/B,OAASgC,WAAY,gBAAmB,SAAUC,QAC7DjC,MAAMkC,IAAM/E,OAAOgF,IAAIC,gBAAgBH,SACxC,SAAUK,KACTC,QAAQC,IAAIF,KACZG,MAAM,+FAGVA,MAAM,yBAGhB,MAAOI,GACLJ,MAAM,mEAId1C,iBAGa,SAAS+C,SAClBC,sBAAsBD,QAElB9C,MAAMgD,cACNpD,QAAQqD,aAAc,GAG1B9E,OAAO2E,OAAOtD,MAAOE,QAEzBoD,GAGK3F,OAAO+F,SAASC,KAAKhE,SAAS,cAC/B9B,SAASW,WAAWZ,iBAAiB,QAAS,WAC1CS,SAASuF,mBAAqB/F,SAASW,WAAWqF,qBAAuBxF,SAASyF,yBAA2BjG,SAASW,WAAWuF,2BAA6B1F,SAAS2F,sBAAwBnG,SAASW,WAAWyF,wBAA0B5F,SAAS6F,qBAAuBrG,SAASW,WAAW2F,wBAKzSxG,OAAOC,iBAAiB,SAAU,WAC9Be,OAAOT,QAAQP,OAAOQ,WAAYR,OAAOS,aACzC8B,OAAOkE,OAASzG,OAAOQ,WAAaR,OAAOS,YAC3C8B,OAAOmE,yBACPrE,MAAMP,OAAOa,KACbE,MAAM8D,QACN/D,gBAEAgE,UAAUlG,SAASmG,cAAc,2BAA2BC,QAAQC,QACpEC,cAAcC,WAAWvG,SAASgB,eAAe,mBAAmBmC,QAAU,KAAQ,KACtFqD,UAAUD,WAAWvG,SAASgB,eAAe,gBAAgBmC,OAAS,OAG1E7D,OAAO4G,UAAY,SAAUO,QACzB/C,QAAQ+C,OAASA,OACjBzE,YAAYyB,eAAiBC,QAAQC,cAAc8C,QACnDzE,YAAYoD,aAAc,GAE9B9F,OAAOkH,UAAY,SAAUE,KACzB1E,YAAYiB,SAASG,OAAOD,MAAQuD,KAExCpH,OAAOgH,aAAe,SAAUI,KAC5B1E,YAAYiB,SAASI,UAAUF,MAAQ,EAAIuD,KAE/CpH,OAAOqH,eAAiB,WACpBjD,QAAQkD,YAAclD,QAAQkD,WAC9B5E,YAAYyB,eAAiBC,QAAQC,cAAcD,QAAQ+C,QAC3DzE,YAAYoD,aAAc,KAMlC,IAAI1B,QAAU,WACV,SAASA,UACL5F,gBAAgB+I,KAAMnD,SA6D1B,OA1DAxF,aAAawF,QAAS,OAClB5E,IAAK,gBACLqE,MAAO,SAAuB2D,MAC1B,MAAO,wiBAA0iBD,KAAKC,KAAO,QAAU,qNAAuND,KAAKD,WAAaC,KAAKE,aAAe,IAAM,iCAU90BjI,IAAK,mBACLkI,IAAK,WACD,OAAQ,YAAa,YAAa,YAAa,gBAAiB,kBAGpElI,IAAK,eACLkI,IAAK,WACD,MAAO,y2BAYXlI,IAAK,eACLkI,IAAK,WACD,MAAO,yyCAGXlI,IAAK,eACLkI,IAAK,WACD,MAAO,wEAGXlI,IAAK,eACLkI,IAAK,WACD,MAAO,8vGAGXlI,IAAK,kBACLkI,IAAK,WACD,MAAO,k9GAGXlI,IAAK,iBACLkI,IAAK,WACD,MAAO,wPAIRtD,QA/DG,GAoEdpE,OAAOC,iBAAiB,OAAQ,WAE5B,IAAI0H,QAAUvD,QAAQwD,iBAClBC,cAAgB7H,OAAO8H,aAAaC,QAAQ,WAAa,WAE7D/H,OAAO4G,UAAUiB,eAEjB,IAAIG,aAAetH,SAASgB,eAAe,YACvCuG,YAAcD,aAAaE,uBAAuB,WAAW,GAC7DC,YAAcH,aAAaE,uBAAuB,WAAW,GAG7DE,cAAgBT,QAAQU,IAAI,SAAUtB,QACtC,IAAIuB,OAAS5H,SAASoC,cAAc,UAQpC,OAPAwF,OAAOxB,QAAQC,OAASA,OAAOwB,cAAcC,QAAQ,SAAU,IAC/DF,OAAOG,UAAY1B,OACnBuB,OAAO3G,UAAUS,IAAI,iBAEjBkG,OAAOxB,QAAQC,SAAWc,gBAAeS,OAAOI,UAAW,GAE/DT,YAAYrH,YAAY0H,QACjBA,YAIPK,aAAejI,SAASoC,cAAc,SAC1C6F,aAAaC,GAAK,eAClBD,aAAa/E,KAAO,QACpB+E,aAAanB,KAAO,SACpBmB,aAAa9E,MAAQgF,SAAS7I,OAAO8H,aAAaC,QAAQ,YAAc,GACxEY,aAAaG,IAAM,EACnBH,aAAaI,IAAM,IACnBJ,aAAaK,KAAO,EAGpB,IAAIC,YAAcvI,SAASoC,cAAc,SACzCmG,YAAYC,IAAM,SAClBD,YAAYR,UAAY,WAGxB,IAAIU,YAAczI,SAASoC,cAAc,QACzCqG,YAAYV,UAAY,MAExBQ,YAAYrI,YAAY+H,cACxBM,YAAYrI,YAAYuI,aACxBhB,YAAYvH,YAAYqI,aAGxB,IAAIG,gBAAkB1I,SAASoC,cAAc,SAC7CsG,gBAAgBR,GAAK,kBACrBQ,gBAAgBxF,KAAO,QACvBwF,gBAAgB5B,KAAO,YACvB4B,gBAAgBvF,MAAQgF,SAAS7I,OAAO8H,aAAaC,QAAQ,eAAiB,IAC9EqB,gBAAgBN,IAAM,EACtBM,gBAAgBL,IAAM,IACtBK,gBAAgBJ,KAAO,EAEvB,IAAIK,eAAiB3I,SAASoC,cAAc,SAC5CuG,eAAeH,IAAM,YACrBG,eAAeZ,UAAY,cAE3B,IAAIa,eAAiB5I,SAASoC,cAAc,QAC5CwG,eAAeb,UAAY,OAE3BY,eAAezI,YAAYwI,iBAC3BC,eAAezI,YAAY0I,gBAC3BnB,YAAYvH,YAAYyI,gBAGxB3I,SAAST,iBAAiB,QAAS,SAAUsJ,MACzC,IAAIzK,OAASyK,KAAKzK,OAEdA,OAAOgI,QAAQC,SACf/G,OAAO4G,UAAU9H,OAAOgI,QAAQC,QAChCqB,cAAcoB,QAAQ,SAAUlB,QAC5B,OAAOA,OAAOI,UAAW,IAE7B5J,OAAO4J,UAAW,EAClB1I,OAAO8H,aAAa2B,QAAQ,SAAU3K,OAAOgI,QAAQC,WAI7D,IAAI2C,aAAe,SAAsBC,OACrC,IAAI7K,OAAS6K,MAAM7K,OAEnBkB,OAAOkH,UAAUpI,OAAO+E,MAAQ,KAChCsF,YAAYV,UAAY3J,OAAO+E,MAAQ,IACvC7D,OAAO8H,aAAa2B,QAAQ,SAAU3K,OAAO+E,QAEjD6F,cAAe5K,OAAQ6J,eAEvBA,aAAa1I,iBAAiB,SAAUyJ,cACxCf,aAAa1I,iBAAiB,YAAayJ,cAE3C,IAAIE,gBAAkB,SAAyBC,OAC3C,IAAI/K,OAAS+K,MAAM/K,OAEnBkB,OAAOgH,aAA8B,MAAjBlI,OAAO+E,MAAgB,IAAO/E,OAAO+E,MAAQ,KACjEyF,eAAeb,UAAY3J,OAAO+E,MAAQ,IAC1C7D,OAAO8H,aAAa2B,QAAQ,YAAa3K,OAAO+E,QAEpD+F,iBAAkB9K,OAAQsK,kBAE1BA,gBAAgBnJ,iBAAiB,YAAa2J,iBAC9CR,gBAAgBnJ,iBAAiB,SAAU2J,iBAEnBlJ,SAASmG,cAAc,qBAC7B5G,iBAAiB,QAAS,WACxC,OAAO+H,aAAarG,UAAUmI,OAAO","file":"websight.min.js"}