{"version":3,"sources":["websight.es5.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","degToRad","x","Math","PI","window","addEventListener","renderer","THREE","WebGLRenderer","antialias","alpha","setSize","innerWidth","innerHeight","document","body","appendChild","domElement","style","backgroundColor","effect","VREffect","separation","vrDisplay","navigator","getVRDisplays","then","displays","enterVRButton","controls","getElementById","classList","contains","closeVR","remove","userAgent","includes","requestPresent","source","StereoEffect","add","scene","Scene","camera","PerspectiveCamera","texture","boxMaterial","box","makeBoxObject","video","createElement","autoplay","width","height","getVideoFeed","boxWidth","boxHeight","boxGeometry","BoxGeometry","Texture","minFilter","NearestFilter","ShaderMaterial","uniforms","type","value","radius","intensity","edgeR","edgeG","edgeB","surfaceR","surfaceG","surfaceB","vertexShader","vertexShaderSource","text","fragmentShader","Filters","compileShader","Mesh","position","z","atan","getVideoFeedAttempts","mediaDevices","getUserMedia","facingMode","stream","src","URL","createObjectURL","catch","err","console","log","alert","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","e","render","requestAnimationFrame","currentTime","needsUpdate","location","href","fullscreenEnabled","requestFullScreen","webkitFullscreenEnabled","webkitRequestFullScreen","mozFullScreenEnabled","mozRequestFullScreen","msFullScreenEnabled","msRequestFullScreen","aspect","updateProjectionMatrix","pause","setShader","querySelector","dataset","filter","setIntensity","parseFloat","setRadius","shader","val","toggleInverted","isInverted","setEdgeColour","_ref","_ref$r","r","undefined","_ref$g","g","_ref$b","b","surfaceCache","setSurfaceColour","_ref2","_ref2$r","_ref2$g","_ref2$b","toggleReducedColours","hasReducedColours","toggleBackground","isBackground","hasBackground","this","name","addBackground","reducedColoursBody","invertedBody","get","filters","availableFilters","initialFilter","localStorage","getItem","controlsRoot","filtersRoot","getElementsByClassName","filterButtons","map","button","toLowerCase","replace","innerText","disabled","radiusSlider","radiusValue","parseInt","intensitySlider","intensityValue","_ref3","forEach","setItem","updateRadius","_ref4","updateIntensity","_ref5","toggle","invertedCheckbox","reducedColoursCheckbox","surfaceCheckbox","updateColour","jscolor","rgb","floor"],"mappings":"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","file":"websight.min.js"}