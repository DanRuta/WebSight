{"version":3,"sources":["websight.es5.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","degToRad","x","Math","PI","window","addEventListener","renderer","THREE","WebGLRenderer","antialias","alpha","setSize","innerWidth","innerHeight","document","body","appendChild","domElement","style","backgroundColor","effect","VREffect","separation","vrDisplay","navigator","getVRDisplays","then","displays","enterVRButton","controls","getElementById","classList","contains","closeVR","remove","userAgent","includes","requestPresent","source","StereoEffect","add","scene","Scene","camera","PerspectiveCamera","texture","boxMaterial","box","makeBoxObject","video","createElement","autoplay","width","height","getVideoFeed","boxWidth","boxHeight","boxGeometry","BoxGeometry","Texture","minFilter","NearestFilter","ShaderMaterial","uniforms","type","value","radius","intensity","edgeR","edgeG","edgeB","surfaceR","surfaceG","surfaceB","lightCols","concat","map","v","floor","random","lightColsEnds","vertexShader","vertexShaderSource","text","fragmentShader","Filters","compileShader","Mesh","position","z","atan","getVideoFeedAttempts","mediaDevices","getUserMedia","facingMode","stream","src","URL","createObjectURL","catch","err","console","log","alert","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","e","render","requestAnimationFrame","currentTime","needsUpdate","matrix","location","href","fullscreenEnabled","requestFullScreen","webkitFullscreenEnabled","webkitRequestFullScreen","mozFullScreenEnabled","mozRequestFullScreen","msFullScreenEnabled","msRequestFullScreen","aspect","updateProjectionMatrix","pause","setShader","querySelector","dataset","filter","setIntensity","parseFloat","setRadius","shader","val","toggleInverted","isInverted","setEdgeColour","_ref","_ref$r","r","undefined","_ref$g","g","_ref$b","b","surfaceCache","setSurfaceColour","_ref2","_ref2$r","_ref2$g","_ref2$b","toggleReducedColours","hasReducedColours","toggleBackground","isBackground","hasBackground","toggleMatrix","clearInterval","matrixInterval","setInterval","this","name","addBackground","reducedColoursBody","invertedBody","get","filters","availableFilters","initialFilter","localStorage","getItem","controlsRoot","filtersRoot","getElementsByClassName","filterButtons","button","toLowerCase","replace","innerText","disabled","radiusSlider","radiusValue","parseInt","intensitySlider","intensityValue","_ref3","forEach","setItem","updateRadius","_ref4","updateIntensity","_ref5","toggle","invertedCheckbox","reducedColoursCheckbox","surfaceCheckbox","updateColour","jscolor","rgb","checked","hash"],"mappings":"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","file":"websight.min.js"}