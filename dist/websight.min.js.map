{"version":3,"sources":["websight.es5.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","degToRad","x","Math","PI","window","addEventListener","renderer","THREE","WebGLRenderer","antialias","alpha","setSize","innerWidth","innerHeight","document","body","appendChild","domElement","style","backgroundColor","effect","VREffect","separation","vrDisplay","navigator","getVRDisplays","then","displays","enterVRButton","controls","getElementById","classList","contains","closeVR","remove","userAgent","includes","requestPresent","source","StereoEffect","add","scene","Scene","camera","PerspectiveCamera","texture","boxMaterial","box","makeBoxObject","video","createElement","autoplay","width","height","getVideoFeed","boxWidth","boxHeight","boxGeometry","BoxGeometry","Texture","minFilter","NearestFilter","ShaderMaterial","uniforms","type","value","radius","intensity","edgeR","edgeG","edgeB","surfaceR","surfaceG","surfaceB","vertexShader","vertexShaderSource","text","fragmentShader","Filters","compileShader","Mesh","position","z","atan","getVideoFeedAttempts","mediaDevices","getUserMedia","facingMode","stream","src","URL","createObjectURL","catch","err","console","log","alert","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","e","render","requestAnimationFrame","currentTime","needsUpdate","location","href","fullscreenEnabled","requestFullScreen","webkitFullscreenEnabled","webkitRequestFullScreen","mozFullScreenEnabled","mozRequestFullScreen","msFullScreenEnabled","msRequestFullScreen","aspect","updateProjectionMatrix","pause","setShader","querySelector","dataset","filter","setIntensity","parseFloat","setRadius","shader","val","toggleInverted","isInverted","setEdgeColour","_ref","_ref$r","r","undefined","_ref$g","g","_ref$b","b","setSurfaceColour","_ref2","_ref2$r","_ref2$g","_ref2$b","this","name","invertedBody","get","filters","availableFilters","initialFilter","localStorage","getItem","controlsRoot","filtersRoot","getElementsByClassName","slidersRoot","filterButtons","map","button","toLowerCase","replace","innerText","disabled","radiusSlider","id","parseInt","min","max","step","radiusLabel","for","radiusValue","intensitySlider","intensityLabel","intensityValue","_ref3","forEach","setItem","updateRadius","_ref4","updateIntensity","_ref5","toggle"],"mappings":"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","file":"websight.min.js"}